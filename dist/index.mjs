var o={unitToConvert:"px",viewportWidth:750,unitPrecision:5,viewportUnit:"vw",fontViewportUnit:"vw",minPixelValue:1};function x(t,e){let i=Math.pow(10,e+1),n=Math.floor(t*i);return Math.round(n/10)*10/i}function g(t,e,i,n){return function(s,l){if(l=Number(l),!l)return s;let a=parseFloat(l);return a<=e?s:x(a/t*100,i)+n}}var P=o,w=/<template>([\s\S]+)<\/template>/gi,p=/(\d+)px/g,h=/style\s*(:|=)\s*(?:"([^"]*?)"|'([^']*?)'|{([^}]*)})/g,c=/style.setProperty\(.*\)/g;function v(t=o){return{name:"vite-plugin-style-to-vw",enforce:"pre",transform(e,i){if(t=Object.assign(o,t),P=t,/.vue$/.test(i)){let n="",s="";if(w.test(e)?(n=e.match(w)[0],s=e.match(w)[0]):e.includes("setup")&&(n=e,s=e),h.test(n)){let l=n.match(h);if(l?.length){let a=[];for(let r=0;r<l.length;r++){let f=l[r].replace(p,y=>y.replace(p,g(t.viewportWidth,t.minPixelValue,t.unitPrecision,t.viewportUnit)));a.push(f)}let u=n;for(let r=0;r<l.length;r++)u=u.replace(l[r],`${a[r]}`);e=e.replace(s,u)}}}else if(/\.tsx|\.jsx$/.test(i)){let n=e,s=e;if(h.test(n)){let l=n.match(h);if(l?.length){let a=[];for(let r=0;r<l.length;r++){let f=l[r].replace(p,y=>y.replace(p,g(t.viewportWidth,t.minPixelValue,t.unitPrecision,t.viewportUnit)));a.push(f)}let u=n;for(let r=0;r<l.length;r++)u=u.replace(l[r],`${a[r]}`);e=e.replace(s,u),s=e,n=e}}if(c.test(n)){let l=n.match(c);if(l?.length){let a=[];for(let r=0;r<l.length;r++){let f=l[r].replace(p,y=>y.replace(p,g(t.viewportWidth,t.minPixelValue,t.unitPrecision,t.viewportUnit)));a.push(f)}let u=n;for(let r=0;r<l.length;r++)u=u.replace(l[r],`${a[r]}`);e=e.replace(e,u)}}}return{code:e,map:null}}}}var b=v,S=(t,e=P)=>{if(e=Object.assign(P,e),typeof t=="number"||typeof Number(t)=="number"&&!isNaN(Number(t))){let i=t.toString().replace(/(\d+)/g,n=>n.replace(/(\d+)/g,g(e.viewportWidth,e.minPixelValue,e.unitPrecision,"")));return typeof t=="number"?Number(i):i}else return t.toString().replace(p,i=>i.replace(p,g(e.viewportWidth,e.minPixelValue,e.unitPrecision,e.viewportUnit)))};export{b as default,S as stylePxToVw};
