var h={unitToConvert:"px",viewportWidth:750,unitPrecision:5,viewportUnit:"vw",fontViewportUnit:"vw",minPixelValue:1};function x(n,e){let a=Math.pow(10,e+1),r=Math.floor(n*a);return Math.round(r/10)*10/a}function g(n,e,a,r){return function(u,l){if(!l)return;let i=parseFloat(l);if(!(i<=e))return x(i/n*100,a)+r}}var y=/<template>([\s\S]+)<\/template>/gi,o=/(\d+)px/g,p=/style\s*(:|=)\s*(?:"([^"]*?)"|'([^']*?)'|{([^}]*)})/g;function v(n=h){return{name:"vite-plugin-style-to-vw",transform(e,a){if(n=Object.assign(h,n),/.vue$/.test(a)){let r="",u="";if(y.test(e)?(r=e.match(y)[0],u=e.match(y)[0]):e.includes("setup")&&(r=e,u=e),p.test(r)){let l=r.match(p);if(l?.length){let i=[];for(let t=0;t<l.length;t++){let f=l[t].replace(o,c=>c.replace(o,g(n.viewportWidth,n.minPixelValue,n.unitPrecision,n.viewportUnit)));i.push(f)}let s=r;for(let t=0;t<l.length;t++)s=s.replace(l[t],`${i[t]}`);e=e.replace(u,s)}}}else if(/\.tsx|\.jsx$/.test(a)){let r=e,u=e;if(p.test(r)){let l=r.match(p);if(l?.length){let i=[];for(let t=0;t<l.length;t++){let f=l[t].replace(o,c=>c.replace(o,g(n.viewportWidth,n.minPixelValue,n.unitPrecision,n.viewportUnit)));i.push(f)}let s=r;for(let t=0;t<l.length;t++)s=s.replace(l[t],`${i[t]}`);e=e.replace(u,s)}}}return{code:e}}}}var V=v;export{V as default};
