var g={unitToConvert:"px",viewportWidth:750,unitPrecision:5,viewportUnit:"vw",fontViewportUnit:"vw",minPixelValue:1};function V(l,e){let a=Math.pow(10,e+1),r=Math.floor(l*a);return Math.round(r/10)*10/a}function h(l,e,a,r){return function(u,n){if(!n)return;let i=parseFloat(n);if(!(i<=e))return V(i/l*100,a)+r}}var y=/<template>([\s\S]+)<\/template>/gi,o=/(\d+)px/g,p=/style\s*(:|=)\s*(?:"([^"]*?)"|'([^']*?)'|{([^}]*)})/g,x=(l=g)=>({name:"vite-plugin-style-to-vw",transform(e,a){if(l=Object.assign(g,l),/.vue$/.test(a)){let r="",u="";if(y.test(e)?(r=e.match(y)[0],u=e.match(y)[0]):e.includes("setup")&&(r=e,u=e),p.test(r)){let n=r.match(p);if(n?.length){let i=[];for(let t=0;t<n.length;t++){let f=n[t].replace(o,c=>c.replace(o,h(l.viewportWidth,l.minPixelValue,l.unitPrecision,l.viewportUnit)));i.push(f)}let s=r;for(let t=0;t<n.length;t++)s=s.replace(n[t],`${i[t]}`);e=e.replace(u,s)}}}else if(/\.tsx|\.jsx$/.test(a)){let r=e,u=e;if(p.test(r)){let n=r.match(p);if(n?.length){let i=[];for(let t=0;t<n.length;t++){let f=n[t].replace(o,c=>c.replace(o,h(l.viewportWidth,l.minPixelValue,l.unitPrecision,l.viewportUnit)));i.push(f)}let s=r;for(let t=0;t<n.length;t++)s=s.replace(n[t],`${i[t]}`);e=e.replace(u,s)}}}return{code:e}}}),P=x;export{P as default};
