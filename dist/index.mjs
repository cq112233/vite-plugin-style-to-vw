var h={unitToConvert:"px",viewportWidth:750,unitPrecision:5,viewportUnit:"vw",fontViewportUnit:"vw",minPixelValue:1};function x(l,e){let s=Math.pow(10,e+1),r=Math.floor(l*s);return Math.round(r/10)*10/s}function g(l,e,s,r){return function(i,n){if(n=Number(n),!n)return i;let a=parseFloat(n);return a<=e?i:x(a/l*100,s)+r}}var y=/<template>([\s\S]+)<\/template>/gi,o=/(\d+)px/g,p=/style\s*(:|=)\s*(?:"([^"]*?)"|'([^']*?)'|{([^}]*)})/g;function m(l=h){return{name:"vite-plugin-style-to-vw",transform(e,s){if(l=Object.assign(h,l),/.vue$/.test(s)){let r="",i="";if(y.test(e)?(r=e.match(y)[0],i=e.match(y)[0]):e.includes("setup")&&(r=e,i=e),p.test(r)){let n=r.match(p);if(n?.length){let a=[];for(let t=0;t<n.length;t++){let f=n[t].replace(o,c=>c.replace(o,g(l.viewportWidth,l.minPixelValue,l.unitPrecision,l.viewportUnit)));a.push(f)}let u=r;for(let t=0;t<n.length;t++)u=u.replace(n[t],`${a[t]}`);e=e.replace(i,u)}}}else if(/\.tsx|\.jsx$/.test(s)){let r=e,i=e;if(p.test(r)){let n=r.match(p);if(n?.length){let a=[];for(let t=0;t<n.length;t++){let f=n[t].replace(o,c=>c.replace(o,g(l.viewportWidth,l.minPixelValue,l.unitPrecision,l.viewportUnit)));a.push(f)}let u=r;for(let t=0;t<n.length;t++)u=u.replace(n[t],`${a[t]}`);e=e.replace(i,u)}}}return{code:e}}}}var v=m;export{v as default};
